diff --git a/miext/shadow/shrot16pack_90.c b/miext/shadow/shrot16pack_90.c
index 71027d9..cfef778 100644
--- a/miext/shadow/shrot16pack_90.c
+++ b/miext/shadow/shrot16pack_90.c
@@ -26,4 +26,8 @@
 #define Data	CARD16
 #define ROTATE	90
 
+#ifdef HAVE_DIX_CONFIG_H
+#include <dix-config.h>
+#endif
+
 #include "shrotpack.h"
