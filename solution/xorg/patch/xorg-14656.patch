diff --git a/Xext/shm.c b/Xext/shm.c
index de791c8..751d51f 100644
--- a/Xext/shm.c
+++ b/Xext/shm.c
@@ -31,6 +31,10 @@ in this Software without prior written authorization from The Open Group.
 
 #define SHM
 
+#ifdef HAVE_DIX_CONFIG_H
+#include <dix-config.h>
+#endif
+
 #include <sys/types.h>
 #ifndef Lynx
 #include <sys/ipc.h>
