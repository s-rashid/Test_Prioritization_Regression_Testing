diff --git a/mi/miinitext.c b/mi/miinitext.c
index b40e8bd..6fa180b 100644
--- a/mi/miinitext.c
+++ b/mi/miinitext.c
@@ -672,7 +672,7 @@ InitVisualWrap()
 {
     miResetInitVisuals();
 #ifdef GLXEXT
-#ifdef __DARWIN__
+#ifdef INXDARWINAPP
     DarwinGlxWrapInitVisuals(&miInitVisualsProc);
 #endif
 #endif
