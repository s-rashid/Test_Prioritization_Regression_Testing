diff --git a/miext/shadow/shplanar8.c b/miext/shadow/shplanar8.c
index fc45a80..8db584b 100644
--- a/miext/shadow/shplanar8.c
+++ b/miext/shadow/shplanar8.c
@@ -26,6 +26,8 @@
 #include <dix-config.h>
 #endif
 
+#include <stdlib.h>
+
 #include    <X11/X.h>
 #include    "scrnintstr.h"
 #include    "windowstr.h"
