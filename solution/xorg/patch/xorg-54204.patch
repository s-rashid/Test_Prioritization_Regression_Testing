diff --git a/Xi/ungrdevk.c b/Xi/ungrdevk.c
index b0d83cb..8785989 100644
--- a/Xi/ungrdevk.c
+++ b/Xi/ungrdevk.c
@@ -141,7 +141,7 @@ ProcXUngrabDeviceKey(ClientPtr client)
     temporaryGrab->device = dev;
     temporaryGrab->window = pWin;
     temporaryGrab->type = DeviceKeyPress;
-    temporaryGrab->grabtype = GRABTYPE_XI;
+    temporaryGrab->grabtype = XI;
     temporaryGrab->modifierDevice = mdev;
     temporaryGrab->modifiersDetail.exact = stuff->modifiers;
     temporaryGrab->modifiersDetail.pMask = NULL;
