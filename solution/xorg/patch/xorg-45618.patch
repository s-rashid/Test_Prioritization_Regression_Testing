diff --git a/mi/miscrinit.c b/mi/miscrinit.c
index fe768f4..996d424 100644
--- a/mi/miscrinit.c
+++ b/mi/miscrinit.c
@@ -39,8 +39,7 @@ from The Open Group.
 #include "dix.h"
 #include "miline.h"
 #ifdef MITSHM
-#define _XSHM_SERVER_
-#include <X11/extensions/XShm.h>
+#include <X11/extensions/shm.h>
 #endif
 
 /* We use this structure to propogate some information from miScreenInit to
