diff --git a/hw/xnest/Init.c b/hw/xnest/Init.c
index 4699111..d1fd757 100644
--- a/hw/xnest/Init.c
+++ b/hw/xnest/Init.c
@@ -124,7 +124,7 @@ void ddxGiveUp()
   AbortDDX();
 }
 
-#ifdef __DARWIN__
+#ifdef __APPLE__
 void
 DarwinHandleGUI(int argc, char *argv[])
 {
